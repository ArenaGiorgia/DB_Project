syntax = "proto3";

service UserManager {
  // Il Data Collector chiama questa funzione
  rpc CheckUser (CheckUserRequest) returns (CheckUserResponse);
}

message CheckUserRequest {
  string client_id = 1;  // il Data Collector vede chi Ã¨ il client e sfrutta il canale parlando con lo user manager
  string message_id = 2; // ID univoco della richiesta (UUID)
  string email = 3;      // L'email da verificare
}

message CheckUserResponse {
  bool exists = 1;       // True se l'utente esiste, False altrimenti
}
service DataCollector {
  rpc DeleteData (DeleteDataRequest) returns (DeleteDataResponse);
}

message DeleteDataRequest {
  string email = 1;
}

message DeleteDataResponse {
  bool success = 1;
}